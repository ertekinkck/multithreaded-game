docker compose up --build
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
#0 building with "default" instance using docker driver

#1 [matchmaker internal] load build definition from Dockerfile
#1 transferring dockerfile: 153B done
#1 DONE 0.0s

#2 [game_server internal] load build definition from Dockerfile
#2 transferring dockerfile: 158B done
#2 DONE 0.0s

#3 [game_server internal] load metadata for docker.io/library/gcc:latest
#3 DONE 1.1s

#4 [game_server internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [matchmaker internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [game_server] exporting to image
#6 exporting layers done
#6 writing image sha256:25ca115ee64cef9bea4334a77d55be2386926583c84621a9a80263f0891458aa done
#6 naming to docker.io/library/multiplayer-game_server done
#6 DONE 0.0s

#7 [game_server 1/2] FROM docker.io/library/gcc:latest@sha256:16aea78a24ad0c562e63fe3060d3ce85f96101ecd1db09b67b1ccd9bff7dfe4d
#7 DONE 0.0s

#8 [game_server 2/2] WORKDIR /app
#8 CACHED

#9 [matchmaker] exporting to image
#9 exporting layers done
#9 writing image sha256:9220014232f81600e35073167c5abe9b6aae2c9d5d79777a7d5f76a2782f60a1 done
#9 naming to docker.io/library/multiplayer-matchmaker done
#9 DONE 0.0s

#10 [game_server] resolving provenance for metadata file
#10 DONE 0.0s

#11 [matchmaker] resolving provenance for metadata file
#11 DONE 0.0s

#12 [player4 internal] load build definition from Dockerfile
#12 transferring dockerfile: 131B done
#12 DONE 0.0s

#3 [player4 internal] load metadata for docker.io/library/gcc:latest
#3 DONE 1.4s

#13 [player4 internal] load .dockerignore
#13 transferring context: 2B done
#13 DONE 0.0s

#7 [player4 1/2] FROM docker.io/library/gcc:latest@sha256:16aea78a24ad0c562e63fe3060d3ce85f96101ecd1db09b67b1ccd9bff7dfe4d
#7 DONE 0.0s

#8 [player4 2/2] WORKDIR /app
#8 CACHED

#14 [player4] exporting to image
#14 exporting layers done
#14 writing image sha256:ab0a41c0c27af22b2041910fa2cdd837aa87d01f11bac4b3006cae9cbfe8528c done
#14 naming to docker.io/library/multiplayer-player4 done
#14 DONE 0.0s

#15 [player4] resolving provenance for metadata file
#15 DONE 0.0s

#16 [player3 internal] load build definition from Dockerfile
#16 transferring dockerfile: 131B done
#16 DONE 0.0s

#3 [player3 internal] load metadata for docker.io/library/gcc:latest
#3 DONE 1.7s

#17 [player3 internal] load .dockerignore
#17 transferring context: 2B done
#17 DONE 0.0s

#7 [player3 1/2] FROM docker.io/library/gcc:latest@sha256:16aea78a24ad0c562e63fe3060d3ce85f96101ecd1db09b67b1ccd9bff7dfe4d
#7 DONE 0.0s

#8 [player3 2/2] WORKDIR /app
#8 CACHED

#18 [player3] exporting to image
#18 exporting layers done
#18 writing image sha256:c022ccada3c97dc8a6332f19707593339a5fa4499b21a490b9d6aad2b74f5d5a done
#18 naming to docker.io/library/multiplayer-player3 done
#18 DONE 0.0s

#19 [player3] resolving provenance for metadata file
#19 DONE 0.0s

#20 [player2 internal] load build definition from Dockerfile
#20 transferring dockerfile: 131B done
#20 DONE 0.0s

#3 [player2 internal] load metadata for docker.io/library/gcc:latest
#3 DONE 2.2s

#21 [player2 internal] load .dockerignore
#21 transferring context: 2B done
#21 DONE 0.0s

#7 [player2 1/2] FROM docker.io/library/gcc:latest@sha256:16aea78a24ad0c562e63fe3060d3ce85f96101ecd1db09b67b1ccd9bff7dfe4d
#7 DONE 0.0s

#8 [player2 2/2] WORKDIR /app
#8 CACHED

#22 [player2] exporting to image
#22 exporting layers done
#22 writing image sha256:4c9f870e1941c0c7de587a2bffbb86241fcb0fd58ad5d22c238e1e6f9f625c84 done
#22 naming to docker.io/library/multiplayer-player2 done
#22 DONE 0.0s

#23 [player2] resolving provenance for metadata file
#23 DONE 0.0s

#24 [player1 internal] load build definition from Dockerfile
#24 transferring dockerfile: 131B done
#24 DONE 0.0s

#3 [player1 internal] load metadata for docker.io/library/gcc:latest
#3 DONE 2.4s

#25 [player1 internal] load .dockerignore
#25 transferring context: 2B done
#25 DONE 0.0s

#7 [player1 1/2] FROM docker.io/library/gcc:latest@sha256:16aea78a24ad0c562e63fe3060d3ce85f96101ecd1db09b67b1ccd9bff7dfe4d
#7 DONE 0.0s

#8 [player1 2/2] WORKDIR /app
#8 CACHED

#26 [player1] exporting to image
#26 exporting layers done
#26 writing image sha256:064e5d31c462e5a9a76e9866cff9f72e1f98542629b8e67a88a49239f56201b1 done
#26 naming to docker.io/library/multiplayer-player1 done
#26 DONE 0.0s

#27 [player1] resolving provenance for metadata file
#27 DONE 0.0s
Attaching to game_server-1, matchmaker-1, player1-1, player2-1, player3-1, player4-1
matchmaker-1   | Matchmaker listening on port 5000
game_server-1  | Game server listening on port 6000
player4-1      | Player name: Player4
matchmaker-1   | New player connected: 4
player3-1      | Player name: Player3
matchmaker-1   | New player connected: 5
player2-1      | Player name: Player2
matchmaker-1   | New player connected: 6
player1-1      | Player name: Player1
matchmaker-1   | New player connected: 7
matchmaker-1   | Matchmaker: Player2 vs Player1
matchmaker-1   | Matchmaker: Player4 vs Player3
game_server-1  | Fight started between Player1 and Player3!
player1-1      | Player1: You damaged Player3
game_server-1  | Player1 damaged Player3 by 14 
game_server-1  | Player3 health is 86
game_server-1  | Fight started between Player4 and Player2!
player3-1      | Player3: You are hurt by Player1
player4-1      | Player4: You damaged Player2
game_server-1  | Player4 damaged Player2 by 30 (heavy attack)
player2-1      | Player2: You are hurt by Player4
game_server-1  | Player2 health is 70
[Kplayer4-1 exited with code 0
[Kmatchmaker-1 exited with code 0
[Kplayer1-1 exited with code 0
[Kplayer3-1 exited with code 0
[Kgame_server-1 exited with code 0
[Kplayer2-1 exited with code 0
